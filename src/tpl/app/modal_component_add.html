<div class="modal-header">
    <h3 class="modal-title">新增应用组件</h3>
</div>
<div class="modal-body">
    <form class="form-horizontal form-validation" name="myForm">
        <div class="form-group">
            <label class="col-lg-3 control-label">组件名称：</label>
            <div class="col-lg-9">
                <input type="text" class="form-control" name="name" ng-model="cpt.entity.name" placeholder="应用组件名称,必填" required>
            </div>
        </div>

        <div class="form-group">
            <label class="col-lg-3 control-label">版本号：</label>
            <div class="col-lg-9">
                <input type="text" class="form-control" name="version" ng-model="cpt.entity.verion" placeholder="应用组件版本,必填" required>
                <p class="notice-m">如：v1.0.3</p>
            </div>
        </div>

        <div class="form-group">
            <label class="col-lg-3 control-label">安装包：</label>
            <div class="col-lg-9">
                <div class="b-a b-2x b-dashed wrapper-lg bg-white text-center m-b" nv-file-over="" over-class="b-info" uploader="cpt.uploader">
                    <input type="file" nv-file-select="" uploader="cpt.uploader" />
                    <b>或者</b>
                    拖拽你的文件到这里(后缀名为：war、jar、zip)
                </div>
                <table class="table bg-white-only b-a">
                    <thead>
                    <tr>
                        <th width="50%">文件名</th>
                        <th ng-show="cpt.uploader.isHTML5">大小</th>
                        <th ng-show="cpt.uploader.isHTML5">进度</th>
                        <th>状态</th>
                        <th>操作</th>
                    </tr>
                    </thead>
                    <tbody>
                    <tr ng-repeat="item in cpt.uploader.queue">
                        <td><strong>{{ item.file.name }}</strong></td>
                        <td ng-show="cpt.uploader.isHTML5" nowrap>{{ item.file.size/1024/1024|number:2 }} MB</td>
                        <td ng-show="cpt.uploader.isHTML5">
                            <div class="progress progress-sm m-b-none m-t-xs">
                                <div class="progress-bar bg-info" role="progressbar" ng-style="{ 'width': item.progress + '%' }"></div>
                            </div>
                        </td>
                        <td class="text-center">
                            <span ng-show="item.isSuccess" class="text-success"><i class="glyphicon glyphicon-ok"></i></span>
                            <span ng-show="item.isCancel" class="text-warning"><i class="glyphicon glyphicon-ban-circle"></i></span>
                            <span ng-show="item.isError" class="text-danger"><i class="glyphicon glyphicon-remove"></i></span>
                        </td>
                        <td nowrap>
                            <button type="button" class="btn btn-default btn-xs" ng-click="item.upload()" ng-disabled="item.isReady || item.isUploading || item.isSuccess">
                                Upload
                            </button>
                            <button type="button" class="btn btn-default btn-xs" ng-click="item.cancel()" ng-disabled="!item.isUploading">
                                Cancel
                            </button>
                            <button type="button" class="btn btn-default btn-xs" ng-click="item.remove()">
                                Remove
                            </button>
                        </td>
                    </tr>
                    </tbody>
                </table>
            </div>
        </div>

    </form>
</div>
<div class="modal-footer">
    <button class="btn btn-info" ng-click="cpt.ok(myForm)" ng-disabled="myForm.$invalid && !cpt.entity.submitted">确定</button>
    <button class="btn btn-default" ng-click="cpt.cancel()">取消</button>
</div>
